# --- Created by Slick DDL
# To stop Slick DDL generation, remove this comment and start using Evolutions

# --- !Ups

create table "QUESTION_PAPER_CACHE" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"TENANT_ID" INT(11) DEFAULT 0 NOT NULL,"QUESTION_PAPER_ID" INT(11) DEFAULT 0 NOT NULL,"QUESTION_PAPER_JSON" text NOT NULL);
create table "TENANTS" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"ALIAS" VARCHAR NOT NULL,"TENANT_NAME" VARCHAR NOT NULL);
create table "TEST_RESULT_CACHE" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"TENANT_ID" INT(11) NOT NULL,"TESTUSER_ID" INT(11) NOT NULL,"TEST_ID" INT(11) NOT NULL,"IS_PARTIAL_SUBMIT" BOOLEAN DEFAULT false NOT NULL,"TESTRESPONSE_JSON" text NOT NULL);
create table "TEST_RESULTS" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"QUESTION_ID" INT(11) DEFAULT 0 NOT NULL,"ANSWER_STRING" varchar(7000),"IS_SUBJECTIVE" tinyint(1) DEFAULT 0 NOT NULL,"TESTUSER_ID" INT(11),"TIME_SPENT" DOUBLE DEFAULT 0.0 NOT NULL,"SECTION_ID" INT(11) DEFAULT 0 NOT NULL,"QUESTION_TENANT_ID" INT(11) DEFAULT 0 NOT NULL);
create table "TESTS" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"TENANT_ID" INT(11) NOT NULL,"QUESTION_PAPER_ID" INT(11) DEFAULT 0 NOT NULL,"TEST_DURATION" DOUBLE DEFAULT 0.0 NOT NULL,"NAME" VARCHAR,"VALID_FROM" DATETIME,"VALID_TO" DATETIME,"PERMISSIBLE_LATE_TIME" INT(11) DEFAULT 0 NOT NULL,"TEST_START_TIME" DATETIME,"TEST_END_TIME" DATETIME,"IS_ALL_TIME_PERMISSIBLE" tinyint(1) DEFAULT false NOT NULL,"INSTRUCTIONS" Text,"GROUP_WISE_TIMING" tinyint(1) DEFAULT false NOT NULL,"IS_OPTION_RANDOMIZE" tinyint(1) DEFAULT false NOT NULL,"TYPE_OF_TEST" INT(11) DEFAULT 0 NOT NULL,"CONFIG" varchar(2000),"IS_TEST_ACTIVE" tinyint(1) DEFAULT false NOT NULL,"IS_INSTANT_RESULT" tinyint(1) DEFAULT false NOT NULL,"NO_OF_CANDIDATES" INT(11) DEFAULT 0 NOT NULL,"INSTANT_EVALUATION" tinyint(1) DEFAULT false NOT NULL,"QUE_PAPER_TENANTID" INT(11) DEFAULT 0 NOT NULL,"QUESTION_RANDOMIZING" tinyint(1) DEFAULT false NOT NULL);
create table "TEST_USERS" ("ID" INT(11) GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"LOGIN_ID" VARCHAR NOT NULL,"PASSWORD" VARCHAR NOT NULL,"TEST_ID" INT(11),"CANDIDATE_ID" INT(11) DEFAULT 0 NOT NULL,"TIME_SPENT" DOUBLE DEFAULT 0.0 NOT NULL,"TIME_STAMP" DATETIME,"LOGIN_TIME" DATETIME,"LOG_OUT_TIME" DATETIME,"STATUS" INTEGER DEFAULT 0 NOT NULL,"IS_PASSWORD_DISABLED" Boolean DEFAULT false NOT NULL,"CLIENT_SYSTEM_INFO" VARCHAR DEFAULT '' NOT NULL,"CANDIDATE_NAME" VARCHAR NOT NULL,"CANDIDATE_EMAIL" VARCHAR NOT NULL,"REACTIVATED_COUNT" INTEGER DEFAULT 0 NOT NULL);
alter table "TEST_RESULTS" add constraint "testuser_id" foreign key("TESTUSER_ID") references "TEST_USERS"("ID") on update NO ACTION on delete NO ACTION;
alter table "TEST_USERS" add constraint "test_id" foreign key("TEST_ID") references "TESTS"("ID") on update NO ACTION on delete NO ACTION;

# --- !Downs

alter table "TEST_RESULTS" drop constraint "testuser_id";
alter table "TEST_USERS" drop constraint "test_id";
drop table "QUESTION_PAPER_CACHE";
drop table "TENANTS";
drop table "TEST_RESULT_CACHE";
drop table "TEST_RESULTS";
drop table "TESTS";
drop table "TEST_USERS";

